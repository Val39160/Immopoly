<div class="dashboard-container">
  <h1 class="dashboard-h1">Dashboard</h1>
  <div class="container">
    <div class="project-container">
      <h2 class="second-header">Mes projets</h2>
      <div>
        <!-- Slider main container -->
          <div id="projectscarousel" data-bs-theme="dark" class="carousel slide">
            <!-- Additional required wrapper -->
            <div class="carousel-inner">
              <% @projects.each_slice(3).with_index do |package, index| %>
                <!-- Slides -->
                <div class="carousel-item <%= 'active' if index == 0 %>">
                  <div class="d-flex justify-content-between">
                    <% package.each do |project|%>
                      <div class="project-card">
                        <h4 class="project-name"><%= project.project_name %></h4>
                        <ul class="list">
                          <li>Surface du Terrain : <%= number_with_precision(project.area_sqm_land, precision: 0, delimiter: ',') %> m²</li>
                          <li>Surface Habitable : <%= number_with_precision(project.area_sqm_livable, precision: 0, delimiter: ',') %> m²</li>
                          <li>Coefficient d'Occupation des Sols (COS) : <%= project.floor_area_ratio %></li>
                        </ul>
                        <%= link_to 'Accéder au détail', project_path(project), class: 'details-button'%>
                        <%= link_to 'Modifier', project_path(project), class: 'modify-button'%>
                        <%= link_to project_path(project), method: :delete, data: { confirm: 'Are you sure?' }, class: 'delete-button' do %>
                          <i class="fa-solid fa-trash-can"></i>
                        <% end %>
                      </div>
                    <% end %>
                  </div>
                </div>
              <% end %>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#projectscarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#projectscarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>

      </div>
    </div>
    <div class="property-container">
      <h2 class="second-header">Mes Propriétes</h2>
      <div>
        <div  id="propertiescarousel" data-bs-theme="dark" class="carousel slide">
          <div class="carousel-inner">
            <% @properties.each_slice(3).with_index do |package, index| %>
              <div class="carousel-item d-flex justify-content-between <%= 'active' if index == 0 %>">
                <% package.each do |property| %>
                  <div class="project-card">
                      <h4 class="property-name"><%= property.address %></h4>
                      <ul class="list">
                        <li>Surface du Terrain : <%= number_with_precision(property.area_sqm_land, precision: 0, delimiter: ',') %> m²</li>
                        <li>Surface Habitable : <%= number_with_precision(property.area_sqm_livable, precision: 0, delimiter: ',') %> m²</li>
                        <li>Coefficient d'Occupation des Sols (COS) : <%= property.floor_area_ratio %></li>
                      </ul>
                      <%= link_to 'Accéder au détail', property_path(property), class: 'details-button'%>
                      <%= link_to 'Modifier', edit_property_path(property), class: 'modify-button'%>
                      <%= link_to property_path(property), method: :delete, data: { confirm: 'Are you sure?' }, class: 'delete-button' do %>
                        <i class="fa-solid fa-trash-can"></i>
                      <% end %>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#propertiescarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#propertiescarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
        </div>
      </div>
    </div>
  </div>
</div>
